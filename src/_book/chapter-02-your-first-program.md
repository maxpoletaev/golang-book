---
title:  "Ваша первая программа"
layout: "chapter"

---

Традиционно, первая программа, с которой начинается изучение любого языка
программирования, называется «Hello World» — эта программа просто выводит в
консоль строку `Hello World`. Давайте напишем её с помощью Go.

Сначала создадим новую директорию, в которой будем хранить нашу программу.
Установщик, о котором говорилось в первой главе, создал в вашей домашней
директории каталог `Go`. Теперь создайте директорию под названием 
`~/Go/src/golang-book/chapter2` (где `~` означает вашу домашнюю директорию). 
Вы можете сделать это из терминала с помощью следующих команд:

    mkdir Go/src/golang-book
    mkdir Go/src/golang-book/chapter2

Используя текстовый редактор, введите следующее:

    package main

    import "fmt"

    // this is a comment

    func main() {
        fmt.Println("Hello World")
    }

Убедитесь, что содержимое файла идентично показанному здесь примеру, и сохраните
его под именем `main.go` в созданной ранее директории. Затем откройте новое окно
терминала и введите:

    cd Go/src/golang-book/chapter2
    go run main.go

В окне терминала вы должны увидеть сообщение `Hello World`. Команда `go run`
берет указанные файлы (разделенные пробелом), компилирует их в исполняемые
файлы, сохраняет во временной директории и запускает. Если вы не увидели 
`Hello World`, то, вероятно, где-то была допущена ошибка, компилятор подскажет 
вам, где конкретно. Как и большинство компиляторов, компилятор Go крайне 
педантичен и не прощает ошибок.

## Как читать программу на Go

Теперь давайте рассмотрим программу более детально. Программы на Go читаются
сверху вниз, слева направо (как книга). Первая строка гласит:

    package main

Это называется «определение пакета». Любая Go программа начинается с определения
имени пакета. Пакеты — это подход Go к организации повторного использования
кода. Есть два типа программ на Go: исполняемые файлы и разделяемые библиотеки.
Исполняемые являются видом программ, которые можно запустить прямо из
терминала (в Windows их имя заканчивается на `.exe`). Библиотеки являются
коллекциями кода, который можно использовать из других программ. Детальнее мы
будем рассматривать библиотеки чуть позже, а пока просто не забудьте включать эту
строку в программы, которые вы пишите.

Дальше следует пустая строка. Компьютер представляет новые строки специальным
символом (или несколькими символами). Символы новой строки, пробелы и символы
табуляции называются отступами. Go не обращает на них внимания, но мы используем
их, чтобы облегчить себе чтение программы (вы можете удалить эту строку и
убедится, что программа ведет себя в точности как раньше.)

Дальше следует это:

    import "fmt"

Ключевое слово `import` позволяет подключить сторонние пакеты для использования 
их функциональности в нашей программе. Пакет `fmt` (сокращение от format) реализует
форматирование для входных и выходных данных. Учитывая то, что мы только что
узнали о пакетах, как вы думаете, что будет содержаться в верхней части файлов
пакета `fmt`?

Обратите внимание, что `fmt` взят в двойные кавычки. Использование двойных
кавычек называется «строковым литералом», который в свою очередь является видом
«выражения». Строки в Go представляют собой набор символов (букв, чисел, …)
определенной длины. Строки мы рассмотрим детально в следующей главе, а сейчас
главное иметь в виду, что за открывающим символом `"` в конечном итоге должен
последовать и закрывающий. Всё, что находится между ними, будет являться строкой
(символ `"` сам по себе не является частью строки).

Строка, начинающаяся с `//` известна как комментарий. Комментарии игнорируются
компилятором Go и служат исключительно пояснениями вам (или тем, кто будет потом
читать ваш код). Go поддерживает два вида комментариев: `//` превращает в
комментарий весь текст до конца строки и `/* */`, где комментарием является всё,
что содержится между символами `*` (включая переносы строк).

Далее можно увидеть объявление функции:

    func main() {
        fmt.Println("Hello World")
    }

Функции являются кирпичиками программы на Go. Они имеют входы, выходы и ряд
действий, называемых операторами, расположенных в определенном порядке. Любая
функция начинается с ключевого слова `func`, за которым следует имя функции (в
нашем случае `main`), список из нуля и более параметров, возвращаемый тип (если
есть) и само «тело», заключенное в фигурные скобки. Наша функция не имеет
входных параметров, ничего не возвращает и содержит всего один оператор. Имя
`main` является особенным, эта функция будет вызываться сама при запуске
программы.

Заключительной частью нашей программы является эта строка:

    fmt.Println("Hello World")

Этот оператор содержит три части. Во первых доступ к функции пакета `fmt` под
названием `Println` (Print line), затем создается новая строка, содержащая
`Hello World` и вызывается функция с этой строкой, в качестве первого и
единственного аргумента.

На данный момент вы уже можете быть немного перегружены от количества новой
терминологии. Иногда полезно сознательно читать вашу программу вслух. Программу,
которую мы только что написали можно прочитать следующим образом:

> Создается новая исполняемая программа, которая использует библиотеку `fmt` и
> содержит функцию `main`. Эта функция не содержит аргументов, ничего не
> возвращает и делает следующее: использует функцию `Println` из библиотеки `fmt`
> и вызывает её, используя один аргумент — строку `Hello World`.

Функция `Println` выполняет основную работу в этой программе. Вы можете узнать о
ней больше, набрав в терминале команду:

    godoc fmt Println

Среди прочей информации вы должны увидеть это:

    Println formats using the default formats for its operands and writes to
    standard output. Spaces are always added between operands and a newline is
    appended. It returns the number of bytes written and any write error
    encountered.

Go — очень хорошо документированный язык, но эту документацию бывает трудно
понять, если вы доселе не были знакомы с другими языками программирования. Тем
не менее, команда `godoc` является хорошим местом для начала поиска ответов на
возникающие вопросы.

Сейчас документация говорит нам, что вызов `Println` пошлет передаваемые ей
данные на стандартный вывод — терминал, вы сейчас работаете в нём. Эта функция
является причиной, по которой `Hello World` отображается на экране.

В следующей главе вы поймете, каким образом Go хранит и представляет вещи вроде
`Hello World` с помощью типов.

## Задачи

*   Что такое отступ?

*   Что такое комментарий? Какие два способа записи комментариев существуют?

*   Наша программа начиналась с `package main`. С чего начинаются файлы в пакете
    `fmt`?

*   Мы использовали функцию `Println` из пакета `fmt`. Если бы мы хотели
    использовать функцию `Exit` из пакета `os`, что бы потребовалось сделать?

*   Измените написанную программу так, чтобы вместо `Hello World` она выводила
    `Hello, my name is` вместе с вашем именем.
